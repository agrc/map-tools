{"version":3,"sources":["_src/MapView.js"],"names":["define","_TemplatedMixin","_WidgetBase","domClass","domConstruct","query","loaderTemplate","declare","loader","constructor","mapView","console","log","arguments","extent","xmax","xmin","ymax","ymin","spatialReference","when","poweredByDiv","container","empty","innerHTML","create","href","target","templateString","baseClass","ui","add","toggleLoader","show","toggle","domNode"],"mappings":"AAAAA,OAAO,CACH,uBADG,EAEH,mBAFG,EAIH,gBAJG,EAKH,oBALG,EAMH,YANG,EAOH,6CAPG,EAQH,oBARG,CAAP,EASG,UACCC,eADD,EAECC,WAFD,EAICC,QAJD,EAKCC,YALD,EAMCC,KAND,EAOCC,cAPD,EAQCC,OARD,EASD;AACE,WAAOA,QAAQ,IAAR,EAAc;AACjB;AACA;AACAC,gBAAQ,IAHS;;AAKjBC,mBALiB,uBAKLC,OALK,EAKI;AAAA;;AACjB;AACA;AACA;AACA;AACA;AACA;AACAC,oBAAQC,GAAR,CAAY,+BAAZ,EAA6CC,SAA7C;;AAEAH,oBAAQI,MAAR,GAAiB;AACbC,sBAAM,CAAC,kBADM;AAEbC,sBAAM,CAAC,kBAFM;AAGbC,sBAAM,iBAHO;AAIbC,sBAAM,iBAJO;AAKbC,kCAAkB;;AAGtB;AARiB,aAAjB,CASAT,QAAQU,IAAR,CAAa,YAAM;AACf;AACA,oBAAIC,eAAehB,MAAM,+BAAN,EAAuCK,QAAQY,SAA/C,EAA0D,CAA1D,CAAnB;AACAlB,6BAAamB,KAAb,CAAmBF,YAAnB;AACAA,6BAAaG,SAAb,GAAyB,WAAzB;AACApB,6BAAaqB,MAAb,CAAoB,GAApB,EAAyB;AACrBC,0BAAM,sBADe;AAErBF,+BAAW,MAFU;AAGrBG,4BAAQ,QAHa;AAIrB,6BAAS;AAJY,iBAAzB,EAKGN,YALH;;AAOA;AACA,sBAAKb,MAAL,GAAc,KAAKD,QAAQ,CAACL,WAAD,EAAcD,eAAd,CAAR,EAAwC;AACvD2B,oCAAgBtB,cADuC;AAEvDuB,+BAAW;AAF4C,iBAAxC,CAAL,GAAd;AAIAnB,wBAAQoB,EAAR,CAAWC,GAAX,CAAe,MAAKvB,MAApB,EAA4B,aAA5B;AACH,aAlBD;AAmBH,SA1CgB;AA2CjBwB,oBA3CiB,wBA2CJC,IA3CI,EA2CE;AACf;AACA;AACAtB,oBAAQC,GAAR,CAAY,gCAAZ,EAA8CC,SAA9C;;AAEAV,qBAAS+B,MAAT,CAAgB,KAAK1B,MAAL,CAAY2B,OAA5B,EAAqC,QAArC,EAA+C,CAACF,IAAhD;AACH;AAjDgB,KAAd,CAAP;AAmDH,CAtED","file":"MapView.js","sourcesContent":["define([\n    'dijit/_TemplatedMixin',\n    'dijit/_WidgetBase',\n\n    'dojo/dom-class',\n    'dojo/dom-construct',\n    'dojo/query',\n    'dojo/text!./resources/templates/loader.html',\n    'dojo/_base/declare'\n], function (\n    _TemplatedMixin,\n    _WidgetBase,\n\n    domClass,\n    domConstruct,\n    query,\n    loaderTemplate,\n    declare\n) {\n    return declare(null, {\n        // loader: DomNode\n        //      the widget containing the loader animation\n        loader: null,\n\n        constructor(mapView) {\n            // summary:\n            //      Customizes the esri map view in the following ways:\n            //          - sets the extent to be the state of utah\n            //          - \"Powered by ESRI\" -> \"Powered by AGRC\"\n            //          - adds a loader\n            // mapView: esri/views/MapView\n            console.log('map-tools/MapView:constructor', arguments);\n\n            mapView.extent = {\n                xmax: -11762120.612131765,\n                xmin: -13074391.513731329,\n                ymax: 5225035.106177688,\n                ymin: 4373832.359194187,\n                spatialReference: 3857\n            }\n\n            // wait until dom has been built\n            mapView.when(() => {\n                // AGRC attribution\n                let poweredByDiv = query('.esri-attribution__powered-by', mapView.container)[0]\n                domConstruct.empty(poweredByDiv);\n                poweredByDiv.innerHTML = 'Built by ';\n                domConstruct.create('a', {\n                    href: 'https://gis.utah.gov',\n                    innerHTML: 'AGRC',\n                    target: '_blank',\n                    'class': 'esri-attribution__link'\n                }, poweredByDiv);\n\n                // loader - required to be a widget so as to retain a reference to the dom node for use in toggleLoader\n                this.loader = new (declare([_WidgetBase, _TemplatedMixin], {\n                    templateString: loaderTemplate,\n                    baseClass: 'hidden sk-double-bounce'\n                }))();\n                mapView.ui.add(this.loader, 'bottom-left');\n            });\n        },\n        toggleLoader(show) {\n            // summary:\n            //      toggles the visibility of the loader on the map\n            console.log('map-tools/Mapview:toggleLoader', arguments);\n\n            domClass.toggle(this.loader.domNode, 'hidden', !show);\n        }\n    });\n});\n"]}